// ==UserScript==
// @name         Personal Cards Info Proteced
// @namespace    http://tampermonkey.net/
// @author       George
// @version      1.0
// @description  Информация о картах, need / trade / want list
// @match        https://animestars.org/*
// @match        https://astars.club/*
// @grant        GM_xmlhttpRequest
// ==/UserScript==

function _0x5511(_0x5d7b37,_0x44472a){const _0x180648=_0x1806();return _0x5511=function(_0x5511d2,_0x54e89b){_0x5511d2=_0x5511d2-0x81;let _0x1163f5=_0x180648[_0x5511d2];return _0x1163f5;},_0x5511(_0x5d7b37,_0x44472a);}(function(_0x1d7497,_0x53e35f){const _0x553fab=_0x5511,_0x378f8d=_0x1d7497();while(!![]){try{const _0x59627c=-parseInt(_0x553fab(0xab))/0x1+parseInt(_0x553fab(0xaa))/0x2*(parseInt(_0x553fab(0x9f))/0x3)+parseInt(_0x553fab(0xb1))/0x4*(-parseInt(_0x553fab(0xd6))/0x5)+parseInt(_0x553fab(0xc6))/0x6+parseInt(_0x553fab(0xd0))/0x7+-parseInt(_0x553fab(0xce))/0x8+parseInt(_0x553fab(0xa3))/0x9;if(_0x59627c===_0x53e35f)break;else _0x378f8d['push'](_0x378f8d['shift']());}catch(_0x12f923){_0x378f8d['push'](_0x378f8d['shift']());}}}(_0x1806,0x7cec2),(function(){'use strict';const _0x510473=_0x5511;let _0x20f4f6='';const _0x2571b9=0x1*0x3c*0x3c*0x3e8,_0x5a5de4=0xf*0x3c*0x3e8,_0x31ab36=['oskolok300',_0x510473(0xb4),_0x510473(0xa4)];function _0x4aec7e(_0x3e7cc9,_0x5edda9,_0x3d5022){const _0x30c0d8=_0x510473,_0x1dab7e={'timestamp':Date['now'](),'data':_0x5edda9};localStorage['setItem'](_0x3e7cc9,JSON[_0x30c0d8(0xc8)](_0x1dab7e)),_0x3d5022&&setTimeout(()=>{const _0xf080f4=_0x30c0d8;localStorage[_0xf080f4(0x86)](_0x3e7cc9);},_0x3d5022);}function _0x2d5344(_0x1a34c5){const _0x147143=_0x510473,_0xaa06f0=localStorage[_0x147143(0xb8)](_0x1a34c5);if(!_0xaa06f0)return null;const _0x5438e9=JSON[_0x147143(0x8d)](_0xaa06f0),_0x50ce26=Date[_0x147143(0x8a)]();if(_0x50ce26-_0x5438e9[_0x147143(0xd3)]>_0x2571b9)return localStorage[_0x147143(0x86)](_0x1a34c5),null;return _0x5438e9['data'];}function _0x3f4b69(_0x351ede){return new Promise(_0x5516db=>setTimeout(_0x5516db,_0x351ede));}function _0x3e6e8c(){const _0x537542=_0x510473;let _0x1b131c=document[_0x537542(0xc5)](_0x537542(0xb7));_0x1b131c?(_0x20f4f6=_0x1b131c[_0x537542(0x87)]('href'),!_0x20f4f6[_0x537542(0x8c)]('/')&&(_0x20f4f6+='/')):console[_0x537542(0xb2)](_0x537542(0xe4));}function _0x17914a(){const _0x51fc60=_0x510473;let _0x29a780=document[_0x51fc60(0xa8)](_0x51fc60(0xe1));_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xdf)]='center',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xe7)]='2px',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xbb)]=_0x51fc60(0xa0),_0x29a780['style'][_0x51fc60(0xdb)]=_0x51fc60(0x99),_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xde)]=_0x51fc60(0x99),_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xe6)]='20px',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xea)]='1',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xac)]='5px',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xdd)]='7.25px',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xbc)]=_0x51fc60(0x9c),_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xda)]='flex',_0x29a780[_0x51fc60(0xd2)][_0x51fc60(0xc9)]=_0x51fc60(0xca),_0x29a780['style']['justifyContent']='space-between';let _0x43b1eb=document[_0x51fc60(0xa8)](_0x51fc60(0xe1));_0x43b1eb[_0x51fc60(0xd2)][_0x51fc60(0xea)]='1',_0x43b1eb[_0x51fc60(0xd2)][_0x51fc60(0xda)]=_0x51fc60(0xea),_0x43b1eb[_0x51fc60(0xd2)][_0x51fc60(0xc9)]=_0x51fc60(0xca),_0x43b1eb[_0x51fc60(0xd2)][_0x51fc60(0xd8)]='center';let _0x439f90=document[_0x51fc60(0xa8)](_0x51fc60(0xe1));return _0x439f90['style']['flex']='1',_0x439f90[_0x51fc60(0xd2)][_0x51fc60(0xda)]='flex',_0x439f90['style'][_0x51fc60(0xc9)]=_0x51fc60(0xca),_0x439f90[_0x51fc60(0xd2)][_0x51fc60(0xd8)]='center',_0x29a780['appendChild'](_0x43b1eb),_0x29a780[_0x51fc60(0xcc)](_0x439f90),{'infoContainer':_0x29a780,'needContainer':_0x43b1eb,'tradeContainer':_0x439f90};}function _0x526eb4(_0x569c08,_0x24a990){const _0x2d1183=_0x510473;if(_0x569c08===0x0&&_0x24a990===0x0)return _0x2d1183(0xcb);if(_0x569c08>=0x2*_0x24a990)return _0x2d1183(0xdc);else{if(_0x24a990<_0x569c08&&_0x569c08<0x2*_0x24a990)return'#7AE969';else{if(0.75*_0x24a990<=_0x569c08&&_0x569c08<_0x24a990)return'#FFFF00';else{if(0.5*_0x24a990<=_0x569c08&&_0x569c08<0.75*_0x24a990)return _0x2d1183(0x8e);else return 0x2*_0x569c08<_0x24a990?_0x2d1183(0xeb):_0x2d1183(0xcb);}}}}function _0x42de4b(){const _0x1dd201=_0x510473;return document[_0x1dd201(0xc1)][_0x1dd201(0x92)]['contains']('dark-theme');}function _0x222b66(){const _0x2081f8=_0x510473;return _0x42de4b()?_0x2081f8(0x91):_0x2081f8(0xc2);}function _0x19d7ac(_0x23ca28,_0x3110fc,_0x902d5c,_0x294a84){const _0x4b13f5=_0x510473;if(_0x23ca28[_0x4b13f5(0xc5)](_0x4b13f5(0x84)))return;let _0x23db30=Promise[_0x4b13f5(0xd5)]([_0x4ee66f(_0x3110fc),_0x4ee66f(_0x902d5c)])[_0x4b13f5(0xbd)](([_0x14e5f3,_0x20d75d])=>{const _0x40d224=_0x4b13f5;let {infoContainer:_0x4029b3,needContainer:_0x734975,tradeContainer:_0x4dc67b}=_0x17914a();_0x4029b3[_0x40d224(0x92)][_0x40d224(0xa9)](_0x40d224(0x81)),_0x4029b3[_0x40d224(0xd2)][_0x40d224(0xb5)]=_0x526eb4(_0x14e5f3,_0x20d75d);let _0x2ecd1f=_0x222b66();_0x734975['style'][_0x40d224(0xae)]=_0x2ecd1f,_0x4dc67b[_0x40d224(0xd2)][_0x40d224(0xae)]=_0x2ecd1f,_0x734975[_0x40d224(0xaf)]=_0x40d224(0x96)+_0x14e5f3,_0x4dc67b['textContent']=_0x40d224(0xb9)+_0x20d75d,_0x23ca28[_0x40d224(0xcc)](_0x4029b3);const _0x30ae6d=_0x23ca28['querySelector'](_0x40d224(0xe2))?.[_0x40d224(0x87)](_0x40d224(0xc0));if(_0x30ae6d){const _0x1a4e67=_0x2d5344(_0x40d224(0xbe));_0x1a4e67&&_0x1a4e67[_0x40d224(0x98)](_0x30ae6d)&&_0x23ca28[_0x40d224(0x92)][_0x40d224(0xa9)](_0x40d224(0xcd));}});_0x294a84[_0x4b13f5(0xc7)](_0x23db30);}async function _0x4ee66f(_0x554b1a){const _0x45bfa5=_0x2d5344(_0x554b1a);if(_0x45bfa5!==null)return _0x45bfa5;let _0x2d415=0x0;async function _0x342db5(_0x443c47){return new Promise((_0x300134,_0x1615eb)=>{const _0x2819e8=_0x5511;GM_xmlhttpRequest({'method':_0x2819e8(0xe3),'url':_0x443c47,'onload':function(_0x3ef6ed){const _0x451633=_0x2819e8;let _0x4ef9aa=new DOMParser(),_0x2c151c=_0x4ef9aa[_0x451633(0xa5)](_0x3ef6ed[_0x451633(0xc3)],_0x451633(0xd1)),_0x2b040c=_0x2c151c[_0x451633(0xa6)](_0x451633(0xe8))[_0x451633(0xa2)];_0x2d415+=_0x2b040c;let _0x278b11=_0x2c151c[_0x451633(0xc5)](_0x451633(0x85));if(_0x278b11){let _0x4b3216=_0x278b11[_0x451633(0x87)](_0x451633(0x8b));_0x300134(_0x342db5(_0x4b3216));}else _0x4aec7e(_0x554b1a,_0x2d415),_0x300134(_0x2d415);},'onerror':function(_0x176628){_0x1615eb(_0x176628);}});});}return await _0x342db5(_0x554b1a);}function _0x232e45(){const _0x1b5b7d=_0x510473,_0x345dce=new MutationObserver(_0x27c447=>{_0x27c447['forEach'](_0x2cfd54=>{const _0xe50d8e=_0x5511;_0x2cfd54[_0xe50d8e(0xe5)]===_0xe50d8e(0xb6)&&_0x1522f8();});});_0x345dce[_0x1b5b7d(0xad)](document['body'],{'attributes':!![]});}function _0x1522f8(){const _0x47b4e0=_0x510473;let _0x2e7e65=_0x222b66();document[_0x47b4e0(0xa6)](_0x47b4e0(0x84))[_0x47b4e0(0x94)](_0x24ed2e=>{const _0x578b3e=_0x47b4e0;_0x24ed2e[_0x578b3e(0xa6)](_0x578b3e(0xe1))[_0x578b3e(0x94)](_0x492b3d=>{const _0x29a6a2=_0x578b3e;_0x492b3d[_0x29a6a2(0xd2)][_0x29a6a2(0xae)]=_0x2e7e65;});});}async function _0x9dc422(){const _0x38df68=_0x510473;let _0x448d22=document[_0x38df68(0xa6)]('.anime-cards__item-wrapper'),_0x1b44f0=0x7,_0x2dbc74=[];for(let _0x5398e0=0x0;_0x5398e0<_0x448d22[_0x38df68(0xa2)];_0x5398e0+=_0x1b44f0){let _0xfe04ec=Array['from'](_0x448d22)[_0x38df68(0x88)](_0x5398e0,_0x5398e0+_0x1b44f0);for(let _0x323c96 of _0xfe04ec){let _0x448056=_0x323c96['querySelector'](_0x38df68(0xe2))['getAttribute']('data-id'),_0x614cec=_0x20f4f6+_0x38df68(0x83)+_0x448056+_0x38df68(0x89),_0xae8f60=_0x20f4f6+_0x38df68(0x83)+_0x448056+'/users/trade/';_0x19d7ac(_0x323c96,_0x614cec,_0xae8f60,_0x2dbc74);}await _0x3f4b69(0x9c4);}await Promise['all'](_0x2dbc74);}async function _0x304747(){const _0x110f24=_0x510473;let _0xfc56fa=document[_0x110f24(0xa6)](_0x110f24(0xbf)),_0x4f548c=0x7,_0x45ecde=[];for(let _0x1563cf=0x0;_0x1563cf<_0xfc56fa[_0x110f24(0xa2)];_0x1563cf+=_0x4f548c){let _0x5302f6=Array[_0x110f24(0xe0)](_0xfc56fa)[_0x110f24(0x88)](_0x1563cf,_0x1563cf+_0x4f548c);for(let _0x2f1ead of _0x5302f6){let _0x39a970=_0x2f1ead[_0x110f24(0xc5)](_0x110f24(0xe2))['getAttribute'](_0x110f24(0xc0)),_0x521b98=_0x20f4f6+_0x110f24(0x83)+_0x39a970+_0x110f24(0x89),_0x57d764=_0x20f4f6+_0x110f24(0x83)+_0x39a970+'/users/trade/';_0x19d7ac(_0x2f1ead,_0x521b98,_0x57d764,_0x45ecde);}await _0x3f4b69(0x9c4);}await Promise[_0x110f24(0xd5)](_0x45ecde);}async function _0x460a4a(){const _0x4eda19=_0x510473;let _0x274a3a=document[_0x4eda19(0xa6)](_0x4eda19(0x82)),_0x3bd980=0x7,_0x7292a1=[];for(let _0x325267=0x0;_0x325267<_0x274a3a['length'];_0x325267+=_0x3bd980){let _0x25d0a4=Array[_0x4eda19(0xe0)](_0x274a3a)[_0x4eda19(0x88)](_0x325267,_0x325267+_0x3bd980);for(let _0x6c329e of _0x25d0a4){let _0x47abfc=_0x6c329e[_0x4eda19(0x87)](_0x4eda19(0x8b)),_0x42d84b=_0x47abfc[_0x4eda19(0x8f)]('/')[0x2],_0x18ca34=_0x20f4f6+_0x4eda19(0x83)+_0x42d84b+_0x4eda19(0x89),_0x4f8ec2=_0x20f4f6+'cards/'+_0x42d84b+_0x4eda19(0x95);_0x19d7ac(_0x6c329e,_0x18ca34,_0x4f8ec2,_0x7292a1);const _0x3e9352=_0x2d5344(_0x4eda19(0xbe));_0x3e9352&&_0x3e9352['includes'](_0x42d84b)&&_0x6c329e['classList'][_0x4eda19(0xa9)]('anime-cards__wanted-by-user');}await _0x3f4b69(0x9c4);}await Promise[_0x4eda19(0xd5)](_0x7292a1);}async function _0x2c3f75(){const _0xf0a333=_0x510473;let _0x5d7d91=document[_0xf0a333(0xa6)](_0xf0a333(0xb0)),_0x262996=0x3,_0x4b18cb=[];for(let _0x5f4958=0x0;_0x5f4958<_0x5d7d91[_0xf0a333(0xa2)];_0x5f4958+=_0x262996){let _0x2890c1=Array[_0xf0a333(0xe0)](_0x5d7d91)['slice'](_0x5f4958,_0x5f4958+_0x262996);for(let _0x2f7c8e of _0x2890c1){let _0x45cd4a=_0x2f7c8e[_0xf0a333(0x87)](_0xf0a333(0xc0)),_0x55adf8=_0x20f4f6+_0xf0a333(0x83)+_0x45cd4a+_0xf0a333(0x89),_0x1c8896=_0x20f4f6+_0xf0a333(0x83)+_0x45cd4a+'/users/trade/';_0x19d7ac(_0x2f7c8e,_0x55adf8,_0x1c8896,_0x4b18cb);}await _0x3f4b69(0x9c4);}await Promise['all'](_0x4b18cb);}function _0x2a92a3(){const _0x11dcef=_0x510473,_0x4239ce=document[_0x11dcef(0xc5)](_0x11dcef(0xc4));if(!_0x4239ce){console[_0x11dcef(0xa1)](_0x11dcef(0x9a));return;}_0x4239ce['addEventListener'](_0x11dcef(0xd4),async function(_0x22f821){const _0x1e51af=_0x11dcef;_0x22f821['preventDefault'](),console[_0x1e51af(0xa1)]('Клик\x20по\x20\x22Все\x20карты\x20из\x20аниме\x22.\x20Обновляем\x20информацию...'),await _0x3f4b69(0x3e8),await _0x304747();});}async function _0x25dcec(_0x21ef4a){const _0x2c2fba=_0x510473;let _0x2904ea=[],_0x5ce80e=0x1;async function _0x11a85f(_0x530643){return new Promise((_0x57cb34,_0x3324f2)=>{GM_xmlhttpRequest({'method':'GET','url':_0x530643,'onload':function(_0x1c270e){const _0xf0052d=_0x5511;let _0x119331=new DOMParser(),_0x29c028=_0x119331[_0xf0052d(0xa5)](_0x1c270e['responseText'],'text/html'),_0x1c9be6=_0x29c028[_0xf0052d(0xa6)](_0xf0052d(0xe2));_0x1c9be6[_0xf0052d(0x94)](_0x38ebbd=>{const _0x377ac5=_0xf0052d;_0x2904ea[_0x377ac5(0xc7)](_0x38ebbd[_0x377ac5(0x87)](_0x377ac5(0xc0)));});let _0x9670b=_0x29c028[_0xf0052d(0xc5)](_0xf0052d(0x85));if(_0x9670b){let _0x4a0fe6=_0x9670b[_0xf0052d(0x87)](_0xf0052d(0x8b));_0x57cb34(_0x11a85f(_0x4a0fe6));}else _0x4aec7e('want_card',_0x2904ea,_0x5a5de4),_0x57cb34(_0x2904ea);},'onerror':function(_0x227e5c){_0x3324f2(_0x227e5c);}});});}return await _0x11a85f(_0x21ef4a+_0x2c2fba(0xd7)+_0x5ce80e+'/');}async function _0x1a6336(){const _0x43b3f2=_0x510473;_0x3e6e8c();if(!_0x20f4f6){console[_0x43b3f2(0xb2)](_0x43b3f2(0xb3));return;}const _0x21d6b0=document[_0x43b3f2(0xc5)]('.login__avatar\x20img');if(!_0x21d6b0){console[_0x43b3f2(0xa1)](_0x43b3f2(0xe9));return;}const _0x1ba18b=_0x21d6b0[_0x43b3f2(0x87)]('title');if(!_0x1ba18b){console[_0x43b3f2(0xa1)](_0x43b3f2(0xba));return;}if(!_0x31ab36[_0x43b3f2(0x98)](_0x1ba18b)){console[_0x43b3f2(0xa1)](_0x43b3f2(0xcf));return;}_0x232e45();const _0x6cf0a6=_0x20f4f6+_0x43b3f2(0x97)+_0x1ba18b+'/';await _0x25dcec(_0x6cf0a6),document[_0x43b3f2(0xc5)](_0x43b3f2(0x9d))&&await _0x9dc422(),document['querySelector'](_0x43b3f2(0xd9))&&await _0x304747(),document[_0x43b3f2(0xc5)]('.trade__main-items')&&await _0x460a4a(),document[_0x43b3f2(0xc5)](_0x43b3f2(0x90))&&await _0x2c3f75(),_0x2a92a3();}window[_0x510473(0x9e)](_0x510473(0xa7),_0x1a6336);const _0x38a76d=document['createElement'](_0x510473(0xd2));_0x38a76d[_0x510473(0xaf)]=_0x510473(0x9b),document[_0x510473(0x93)][_0x510473(0xcc)](_0x38a76d);}()));function _0x1806(){const _0x4950f2=['style','timestamp','click','all','5huunyH','cards/need/page/','justifyContent','.anime-cards--full-page','display','marginRight','#1DD300','paddingBottom','marginLeft','textAlign','from','div','.anime-cards__item','GET','Базовая\x20ссылка\x20не\x20найдена.','attributeName','height','marginTop','.profile__friends\x20a','Аватар\x20пользователя\x20не\x20найден.','flex','#A60000','info-container','.trade__main-items\x20a','cards/','.info-container','.pagination__pages-btn\x20a','removeItem','getAttribute','slice','/users/need/','now','href','endsWith','parse','#FF4040','split','.lootbox__list','#ffffff','classList','head','forEach','/users/trade/','need:\x20','user/','includes','0px','Элемент\x20\x22Все\x20карты\x20из\x20аниме\x22\x20не\x20найден.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.anime-cards__wanted-by-user\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x203px\x20solid\x20#1DD300;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x207px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','7px','.anime-cards__item-wrapper','addEventListener','72AJAEZV','pointer','log','length','6006285LoIYtI','user789','parseFromString','querySelectorAll','load','createElement','add','32932IRmJtd','589972eCQvWT','padding','observe','color','textContent','.lootbox__card','855948eZoEXO','error','Скрипт\x20остановлен\x20из-за\x20отсутствия\x20базовой\x20ссылки.','user456','backgroundColor','class','link[rel=\x22preconnect\x22]','getItem','trade:\x20','Имя\x20пользователя\x20не\x20найдено.','cursor','borderRadius','then','want_card','.anime-cards--full-page\x20.anime-cards__item-wrapper','data-id','body','#000000','responseText','a.glav-s[onclick*=\x22AllAnimeCards\x22]','querySelector','5729826bcGnfS','push','stringify','alignItems','center','#f0f0f0','appendChild','anime-cards__wanted-by-user','6330304AImtmV','Пользователь\x20не\x20в\x20списке\x20разрешенных.\x20Скрипт\x20остановлен.','625863uTcEGy','text/html'];_0x1806=function(){return _0x4950f2;};return _0x1806();}